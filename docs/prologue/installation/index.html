<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://v2raya.org/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://v2raya.org/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://v2raya.org/main.93bca5230682e9fcc4a54f6169f2d5956714d6258ee6dc3989e47ec29fbac7f1b38927c24281febd9cb172b915c830c980304a85b05f50a3a8fd001e817333b2.css integrity="sha512-k7ylIwaC6fzEpU9hafLVlWcU1iWO5tw5ieR+wp+6x/GziSfCQoH+vZyxcrkVyDDJgDBKhbBfUKOo/QAegXMzsg==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>下载与安装 - v2rayA</title><meta name=description content="安装内核和 v2rayA"><link rel=canonical href=https://v2raya.org/docs/prologue/installation/><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="og:title" content="下载与安装"><meta property="og:description" content="安装内核和 v2rayA"><meta property="og:url" content="https://v2raya.org/docs/prologue/installation/"><meta property="og:site_name" content="v2rayA"><meta property="article:published_time" content="2020-11-16T13:59:39+01:00"><meta property="article:modified_time" content="2020-11-16T13:59:39+01:00"><meta property="og:image" content="https://v2raya.org/android-chrome-512x512.png"><meta property="og:image:alt" content="v2rayA"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="下载与安装"><meta name=twitter:description content="安装内核和 v2rayA"><meta name=twitter:image content="https://v2raya.org/android-chrome-512x512.png"><meta name=twitter:image:alt content="下载与安装"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://v2raya.org/#/schema/organization/1","name":"v2rayA","url":"https://v2raya.org/","sameAs":["https://github.com/v2rayA/v2raya.github.io"],"logo":{"@type":"ImageObject","@id":"https://v2raya.org/#/schema/image/1","url":"https://v2raya.org/android-chrome-512x512.png","width":512,"height":512,"caption":"v2rayA"},"image":{"@id":"https://v2raya.org/#/schema/image/1"}},{"@type":"WebSite","@id":"https://v2raya.org/#/schema/website/1","url":"https://v2raya.org/","name":"v2rayA","description":"v2rayA 是一个支持全局透明代理的 V2Ray Linux 客户端，同时兼容SS、SSR、Trojan(trojan-go)、PingTunnel协议。","publisher":{"@id":"https://v2raya.org/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://v2raya.org/docs/prologue/installation/","url":"https://v2raya.org/docs/prologue/installation/","name":"下载与安装","description":"安装内核和 v2rayA","isPartOf":{"@id":"https://v2raya.org/#/schema/website/1"},"about":{"@id":"https://v2raya.org/#/schema/organization/1"},"datePublished":"2020-11-16T13:59:39CET","dateModified":"2020-11-16T13:59:39CET","breadcrumb":{"@id":"https://v2raya.org/docs/prologue/installation/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://v2raya.org/docs/prologue/installation/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://v2raya.org/docs/prologue/installation/"]}]},{"@type":"BreadcrumbList","@id":"https://v2raya.org/docs/prologue/installation/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://v2raya.org/","url":"https://v2raya.org/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://v2raya.org/docs/","url":"https://v2raya.org/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://v2raya.org/docs/prologue/","url":"https://v2raya.org/docs/prologue/","name":"Prologue"}},{"@type":"ListItem","position":4,"item":{"@id":"https://v2raya.org/docs/prologue/installation/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://v2raya.org/#/schema/article/1","headline":"下载与安装","description":"安装内核和 v2rayA","isPartOf":{"@id":"https://v2raya.org/docs/prologue/installation/"},"mainEntityOfPage":{"@id":"https://v2raya.org/docs/prologue/installation/"},"datePublished":"2020-11-16T13:59:39CET","dateModified":"2020-11-16T13:59:39CET","author":{"@id":"https://v2raya.org/#/schema/person/2"},"publisher":{"@id":"https://v2raya.org/#/schema/organization/1"},"image":{"@id":"https://v2raya.org/docs/prologue/installation/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://v2raya.org/#/schema/person/2","name":"v2rayA","sameAs":["https://github.com/v2rayA"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://v2raya.org/docs/prologue/installation/#/schema/image/2","url":"https://v2raya.org/android-chrome-512x512.png","contentUrl":"https://v2raya.org/android-chrome-512x512.png","caption":"下载与安装"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://v2raya.org/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://v2raya.org/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://v2raya.org/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://v2raya.org/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label>
<a class="navbar-brand order-1 order-md-0 me-auto" href=https://v2raya.org/>v2rayA</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://t.me/v2raya_cn><svg t="1629430629363" class="feather feature-telegram" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="2451" width="23" height="24"><path d="M912.213333 154.026667A85.333333 85.333333.0 00853.333333 128a85.333333 85.333333.0 00-33.28 6.826667L111.786667 441.6a42.666667 42.666667.0 00-26.453334 42.666667V512a42.666667 42.666667.0 0029.44 42.666667L298.666667 616.106667l55.466666 187.306666a75.946667 75.946667.0 0056.32 53.333334 62.72 62.72.0 0015.36.0 73.813333 73.813333.0 0050.773334-20.48l67.84-64 131.413333 103.68a85.333333 85.333333.0 0090.026667 9.386666l14.08-7.253333a88.32 88.32.0 0046.506666-62.72L938.666667 235.093333a90.026667 90.026667.0 00-26.453334-81.066666zM763.733333 805.12a25.173333 25.173333.0 01-12.8 17.493333l-14.08 7.253334a19.626667 19.626667.0 01-8.96 2.133333A19.626667 19.626667.0 01715.52 827.306667l-160.426667-128a20.906667 20.906667.0 00-27.733333.0L432.64 788.48a11.093333 11.093333.0 01-5.973333 2.133333V640a21.76 21.76.0 016.826666-15.786667c136.106667-128 217.6-199.68 266.24-240.64a15.786667 15.786667.0 005.12-11.093333 13.653333 13.653333.0 00-4.266666-11.093333 14.933333 14.933333.0 00-17.92-4.266667l-322.56 203.52a21.333333 21.333333.0 01-18.346667.0L149.333333 494.933333 843.52 193.706667a16.64 16.64.0 017.68.0 22.186667 22.186667.0 0116.213333 7.68A26.88 26.88.0 01874.24 224.853333z" p-id="2452"/></svg><span class="ms-2 visually-hidden">Telegram</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/v2rayA/v2rayA><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://v2raya.org/docs/prologue/introduction/>用户文档</a></li><li class=nav-item><a class=nav-link href=https://github.com/v2rayA/v2rayA/wiki>Wiki</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder=在文档中搜索... aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>起步</h3><ul class=list-unstyled><li><a class=docs-link href=https://v2raya.org/docs/prologue/introduction/>介绍</a></li><li><a class="docs-link active" href=https://v2raya.org/docs/prologue/installation/>下载与安装</a></li><li><a class=docs-link href=https://v2raya.org/docs/prologue/quick-start/>快速上手</a></li></ul><h3>手册</h3><ul class=list-unstyled><li><a class=docs-link href=https://v2raya.org/docs/manual/import/>节点和订阅的导入</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/manipulation/>节点和订阅的操作</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/rule/>预设的路由分流规则</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/routinga/>RoutingA 自定义路由分流</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/transparent-proxy/>透明代理</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/prevent-dns-spoofing/>防止 DNS 污染</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/intranet-sharing/>局域网共享</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/special-mode/>特殊模式</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/tfo-reuse/>TCP Fast Open 和多路复用</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/auto-pull/>自动更新订阅和拓展规则库</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/ext/>预设拓展规则库</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/address-port/>后端地址和入站端口设置</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/multiple-outbound/>多出站设计</a></li><li><a class=docs-link href=https://v2raya.org/docs/manual/loadbalance/>负载均衡</a></li></ul><h3>高级应用</h3><ul class=list-unstyled><li><a class=docs-link href=https://v2raya.org/docs/advanced-application/noroot/>无 ROOT 权限运行 v2rayA</a></li><li><a class=docs-link href=https://v2raya.org/docs/advanced-application/multiple-outbound/>多节点分流</a></li><li><a class=docs-link href=https://v2raya.org/docs/advanced-application/single-container-proxy/>指定 Docker 容器代理</a></li><li><a class=docs-link href=https://v2raya.org/docs/advanced-application/pass-bt/>BT 下载直连</a></li><li><a class=docs-link href=https://v2raya.org/docs/advanced-application/unblock-netease-cloud/>解锁网易云灰色歌曲</a></li><li><a class=docs-link href=https://v2raya.org/docs/advanced-application/router/>旁路由用法</a></li></ul><h3>帮助</h3><ul class=list-unstyled><li><a class=docs-link href=https://v2raya.org/docs/help/how-to-update/>How to Update</a></li><li><a class=docs-link href=https://v2raya.org/docs/help/troubleshooting/>Troubleshooting</a></li><li><a class=docs-link href=https://v2raya.org/docs/help/faq/>FAQ</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#安装-v2ray-内核--xray-内核>安装 V2Ray 内核 / Xray 内核</a><ul><li><a href=#arch-linux-及其衍生版>Arch Linux 及其衍生版</a></li><li><a href=#使用-systemd-的-linux-发行版>使用 systemd 的 Linux 发行版</a></li><li><a href=#alpine-linux>Alpine Linux</a></li><li><a href=#openwrt>OpenWrt</a></li></ul></li><li><a href=#安装-v2raya>安装 v2rayA</a><ul><li><a href=#debian-系列安装>Debian 系列安装</a></li><li><a href=#redhatcentos--opensuse-系列安装>RedHat(CentOS) / openSUSE 系列安装</a></li><li><a href=#alpine-linux-1>Alpine Linux</a></li><li><a href=#arch-linux-以及它的衍生版>Arch Linux 以及它的衍生版</a></li><li><a href=#openwrt-1>OpenWrt</a></li><li><a href=#docker-方式>Docker 方式</a></li></ul></li><li><a href=#v2raya-运行相关>v2rayA 运行相关</a></li><li><a href=#使用其他类-v2ray-核心>使用其他类 V2Ray 核心</a><ul><li><a href=#systemd-方案>systemd 方案</a></li><li><a href=#alpine-linux-2>Alpine Linux</a></li><li><a href=#openwrt-2>OpenWrt</a></li></ul></li><li><a href=#环境变量>环境变量</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>下载与安装</h1><p class=lead>TODO: 下载安装v2ray-core、v2rayA的几种方法，安装xray的方法引到手册的一节去</p><ul><li><a href=#%E5%AE%89%E8%A3%85-v2ray-%E5%86%85%E6%A0%B8--xray-%E5%86%85%E6%A0%B8>安装 V2Ray 内核 / Xray 内核</a><ul><li><a href=#arch-linux-%E5%8F%8A%E5%85%B6%E8%A1%8D%E7%94%9F%E7%89%88>Arch Linux 以及它的衍生版</a></li><li><a href=#%E4%BD%BF%E7%94%A8-systemd-%E7%9A%84-linux-%E5%8F%91%E8%A1%8C%E7%89%88>使用 systemd 的 Linux 发行版</a></li><li><a href=#alpine-linux>Alpine Linux</a></li><li><a href=#openwrt>OpenWrt</a></li></ul></li><li><a href=#%E5%AE%89%E8%A3%85-v2raya>安装 v2rayA</a><ul><li><a href=#debian-%E7%B3%BB%E5%88%97%E5%AE%89%E8%A3%85>Debian 系列安装</a></li><li><a href=#redhatcentos--opensuse-%E7%B3%BB%E5%88%97%E5%AE%89%E8%A3%85>RedHat(CentOS) / openSUSE 系列安装</a></li><li><a href=#alpine-linux>Alpine Linux</a></li><li><a href=#arch-linux-%E4%BB%A5%E5%8F%8A%E5%AE%83%E7%9A%84%E8%A1%8D%E7%94%9F%E7%89%88-1>Arch Linux 以及它的衍生版</a></li><li><a href=#OpenWrt>OpenWrt</a></li><li><a href=#docker-%E6%96%B9%E5%BC%8F>Docker 方式</a></li></ul></li><li><a href=#%E5%AE%89%E8%A3%85%E5%AE%8C%E6%AF%95%E5%90%8E%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8>安装完毕后如何使用</a></li><li><a href=#%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E7%B1%BB-v2ray-%E6%A0%B8%E5%BF%83>使用其他类 V2Ray 核心</a><ul><li><a href=#systemd-%E6%96%B9%E6%A1%88>systemd 方案</a></li><li><a href=#alpine-linux>Alpine Linux</a></li><li><a href=#openwrt>OpenWrt</a></li></ul></li><li><a href=#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F>环境变量</a></li></ul><h2 id=安装-v2ray-内核--xray-内核>安装 V2Ray 内核 / Xray 内核<a href=#安装-v2ray-内核--xray-内核 class=anchor aria-hidden=true>#</a></h2><h3 id=arch-linux-及其衍生版>Arch Linux 及其衍生版<a href=#arch-linux-及其衍生版 class=anchor aria-hidden=true>#</a></h3><p>从官方源安装 <code>v2ray</code>，或者从 AUR 安装 <code>xray</code> 或 <code>xray-bin</code>。</p><h3 id=使用-systemd-的-linux-发行版>使用 systemd 的 Linux 发行版<a href=#使用-systemd-的-linux-发行版 class=anchor aria-hidden=true>#</a></h3><p>V2Ray 安装参考：<a href=https://github.com/v2fly/fhs-install-v2ray>https://github.com/v2fly/fhs-install-v2ray</a></p><p>Xray 安装参考：<a href=https://github.com/XTLS/Xray-install>https://github.com/XTLS/Xray-install</a></p><p>安装后可以关掉服务，因为v2rayA不依赖于该systemd服务。</p><pre><code class=language-bash>sudo systemctl disable v2ray --now ### Xray 需要替换服务为 xray
</code></pre><h3 id=alpine-linux>Alpine Linux<a href=#alpine-linux class=anchor aria-hidden=true>#</a></h3><p>V2Ray 安装参考：<a href=https://github.com/v2fly/alpinelinux-install-v2ray>https://github.com/v2fly/alpinelinux-install-v2ray</a></p><p>Xray 安装参考：<a href=https://github.com/XTLS/alpinelinux-install-xray>https://github.com/XTLS/alpinelinux-install-xray</a></p><h3 id=openwrt>OpenWrt<a href=#openwrt class=anchor aria-hidden=true>#</a></h3><p>首先安装软件包 <code>unzip</code> 与 <code>wget</code>，然后下载 v2ray 内核然后将其保存到 <code>/usr/bin</code>，下载链接为<a href=https://github.com/v2fly/v2ray-core/releases>https://github.com/v2fly/v2ray-core/releases</a>，最后给予二进制文件可执行权限。</p><p>例如：</p><pre><code class=language-bash>opkg update; opkg install unzip wget
wget https://github.com/v2fly/v2ray-core/releases/download/v4.40.1/v2ray-linux-64.zip
unzip -d v2ray-core v2ray-linux-64.zip
cp v2ray-core/v2* /usr/bin; cp v2ray-core/*dat /usr/bin
chmod +x /usr/bin/v2ray; chmod +x /usr/bin/v2ctl
</code></pre><p>格外注意你的 OpenWrt 设备的架构，不要下载到不适用于你设备的版本，否则内核将无法运行。Xray 内核可参照此方法安装。</p><h2 id=安装-v2raya>安装 v2rayA<a href=#安装-v2raya class=anchor aria-hidden=true>#</a></h2><h3 id=debian-系列安装>Debian 系列安装<a href=#debian-系列安装 class=anchor aria-hidden=true>#</a></h3><h4 id=方法一通过软件源安装>方法一：通过软件源安装<a href=#方法一通过软件源安装 class=anchor aria-hidden=true>#</a></h4><h5 id=添加公钥>添加公钥<a href=#添加公钥 class=anchor aria-hidden=true>#</a></h5><pre><code class=language-bash>wget -qO - https://apt.v2raya.mzz.pub/key/public-key.asc | sudo apt-key add -
</code></pre><h5 id=添加-v2raya-软件源>添加 V2RayA 软件源<a href=#添加-v2raya-软件源 class=anchor aria-hidden=true>#</a></h5><pre><code class=language-bash>echo &quot;deb https://apt.v2raya.mzz.pub/ v2raya main&quot; | sudo tee /etc/apt/sources.list.d/v2raya.list
sudo apt update
</code></pre><h5 id=安装-v2raya-1>安装 V2RayA<a href=#安装-v2raya-1 class=anchor aria-hidden=true>#</a></h5><pre><code class=language-bash>sudo apt install v2raya
</code></pre><h4 id=方法二手动安装-deb-包>方法二：手动安装 deb 包<a href=#方法二手动安装-deb-包 class=anchor aria-hidden=true>#</a></h4><p><a href=https://github.com/v2rayA/v2rayA/releases>下载 deb 包</a>后可以使用 Gdebi、QApt 等图形化工具来安装，也可以使用命令行：</p><pre><code class=language-bash>sudo apt install /path/download/installer_debian_xxx_vxxx.deb ### 自行替换 deb 包所在的实际路径
</code></pre><h3 id=redhatcentos--opensuse-系列安装>RedHat(CentOS) / openSUSE 系列安装<a href=#redhatcentos--opensuse-系列安装 class=anchor aria-hidden=true>#</a></h3><p><a href=https://github.com/v2rayA/v2rayA/releases>下载 rpm 包</a>后运行：</p><pre><code class=language-bash>sudo rpm -i /path/download/installer_redhat_xxx_vxxx.rpm ### 自行替换 rpm 包所在的实际路径
</code></pre><h3 id=alpine-linux-1>Alpine Linux<a href=#alpine-linux-1 class=anchor aria-hidden=true>#</a></h3><h4 id=1-下载二进制可执行文件>1. 下载二进制可执行文件<a href=#1-下载二进制可执行文件 class=anchor aria-hidden=true>#</a></h4><p>根据你的平台，从 <a href=https://github.com/v2rayA/v2rayA/releases>Release</a> 获取具有 <code>v2raya_linux_xxx</code> 字样的无后缀名文件，并将其重命名为 <code>v2raya</code>，再把 <code>v2raya</code> 移动到 <code>/usr/local/bin</code> 并给予可执行权限。</p><p>示例：</p><pre><code>wget https://github.com/v2rayA/v2rayA/releases/download/v1.4.1/v2raya_linux_amd64_v1.4.1 -O v2raya
smv ./v2raya /usr/local/bin/ &amp;&amp; chmod +x /usr/local/bin/v2raya
</code></pre><h4 id=2-安装网页前端>2. 安装网页前端<a href=#2-安装网页前端 class=anchor aria-hidden=true>#</a></h4><p>下载 v2rayA 的 Web 页面，然后保存到<code>/usr/local/etc/v2raya/web</code>。</p><p>示例：</p><pre><code class=language-bash>wget https://github.com/v2rayA/v2raya-web/archive/refs/heads/master.zip
unzip master.zip
mkdir -p /usr/local/etc/v2raya/web
mv -r ./v2raya-web-master/* /usr/local/etc/v2raya/web
</code></pre><h4 id=3-创建服务文件>3. 创建服务文件<a href=#3-创建服务文件 class=anchor aria-hidden=true>#</a></h4><p>在 <code>/etc/init.d/</code> 目录下面新建一个名为 <code>v2raya</code> 的文本文件，然后编辑，添加内容如下：</p><pre><code class=language-ini>#!/sbin/openrc-run

name=&quot;v2rayA&quot;
description=&quot;A Linux web GUI client of Project V which supports V2Ray, Xray, SS, SSR, Trojan and Pingtunnel&quot;
command=&quot;/usr/local/bin/v2raya&quot;
command_args=&quot;--webdir=/usr/local/etc/v2raya/web --config=/usr/local/etc/v2raya&quot;
pidfile=&quot;/run/${RC_SVCNAME}.pid&quot;
command_background=&quot;yes&quot;

depend() {
 need net
}
</code></pre><p>保存文件，然后给予此文件可执行权限。</p><h4 id=4-安装-iptables-模块>4. 安装 iptables 模块<a href=#4-安装-iptables-模块 class=anchor aria-hidden=true>#</a></h4><pre><code class=language-bash>apk add iptables ip6tables
</code></pre><h4 id=5-运行-v2raya-并开机启动>5. 运行 v2rayA 并开机启动<a href=#5-运行-v2raya-并开机启动 class=anchor aria-hidden=true>#</a></h4><pre><code class=language-bash>rc-service v2raya start
rc-update add v2raya
</code></pre><h3 id=arch-linux-以及它的衍生版>Arch Linux 以及它的衍生版<a href=#arch-linux-以及它的衍生版 class=anchor aria-hidden=true>#</a></h3><p>从 AUR 安装 <code>v2raya</code> 或 <code>v2raya-bin</code>、<code>v2raya-git</code> 即可。</p><h3 id=openwrt-1>OpenWrt<a href=#openwrt-1 class=anchor aria-hidden=true>#</a></h3><h4 id=1-安装必须的软件包>1. 安装必须的软件包：<a href=#1-安装必须的软件包 class=anchor aria-hidden=true>#</a></h4><pre><code class=language-bash>opkg update
opkg install ca-certificates tar curl
opkg install kmod-ipt-nat6 iptables-mod-tproxy iptables-mod-filter
</code></pre><h4 id=2-安装网页前端-1>2. 安装网页前端<a href=#2-安装网页前端-1 class=anchor aria-hidden=true>#</a></h4><pre><code class=language-bash>cd /tmp
latest_version=$(curl -s https://apt.v2raya.mzz.pub/dists/v2raya/main/binary-amd64/Packages|grep Version|cut -d' ' -f2)
wget https://apt.v2raya.mzz.pub/pool/main/v/v2raya/web_v${latest_version}.tar.gz
mkdir /etc/v2raya
tar xzvf web_v${latest_version}.tar.gz --directory /etc/v2raya
</code></pre><h4 id=3-安装二进制可执行文件>3. 安装二进制可执行文件<a href=#3-安装二进制可执行文件 class=anchor aria-hidden=true>#</a></h4><pre><code class=language-bash>wget -O /usr/bin/v2raya https://apt.v2raya.mzz.pub/pool/main/v/v2raya/v2raya_linux_amd64_v${latest_version}
chmod +x /usr/bin/v2raya
</code></pre><h4 id=4-创建服务文件>4. 创建服务文件<a href=#4-创建服务文件 class=anchor aria-hidden=true>#</a></h4><pre><code class=language-bash>nano /etc/init.d/v2raya
</code></pre><p>内容如下：</p><pre><code class=language-ini>#!/bin/sh /etc/rc.common
command=/usr/bin/v2raya
PIDFILE=/var/run/v2raya.pid
depend() {
  need net
  after firewall
  use dns logger
}
start() {
  start-stop-daemon -b -S -m -p &quot;${PIDFILE}&quot; -x $command
}
stop() {
  start-stop-daemon -K -p &quot;${PIDFILE}&quot;
}
</code></pre><p>给予此文件可执行权限：</p><pre><code class=language-bash>chmod +x /etc/init.d/v2raya
</code></pre><h4 id=5-运行-v2raya-并开机启动-1>5. 运行 v2rayA 并开机启动<a href=#5-运行-v2raya-并开机启动-1 class=anchor aria-hidden=true>#</a></h4><pre><code class=language-bash>/etc/init.d/v2raya start
/etc/init.d/v2raya enable
</code></pre><h3 id=docker-方式>Docker 方式<a href=#docker-方式 class=anchor aria-hidden=true>#</a></h3><p>使用 docker 命令部署。</p><pre><code class=language-bash># run v2raya
docker run -d \
  --restart=always \
  --privileged \
  --network=host \
  --name v2raya \
  -e V2RAYA_ADDRESS=0.0.0.0:2017 \
      -v /lib/modules:/lib/modules \
  -v /etc/resolv.conf:/etc/resolv.conf \
  -v /etc/v2raya:/etc/v2raya \
  mzz2017/v2raya
</code></pre><hr><p>如果你使用 MacOSX 或其他不支持 host 模式的环境，在该情况下<strong>无法使用全局透明代理</strong>，或者你不希望使用全局透明代理，docker 命令会略有不同：</p><pre><code class=language-bash># run v2raya
docker run -d \
  -p 2017:2017 \
  -p 20170-20172:20170-20172 \
  --restart=always \
  --name v2raya \
  -v /etc/v2raya:/etc/v2raya \
  mzz2017/v2raya
</code></pre><h2 id=v2raya-运行相关>v2rayA 运行相关<a href=#v2raya-运行相关 class=anchor aria-hidden=true>#</a></h2><p>如果 v2rayA 正常运行（启动或许需要一定时间）则开放 2017 作为管理端口，通过浏览器访问即可进行管理。如访问 http://localhost:2017/</p><ul><li><p>导入并连接正常工作的节点后，设置全局透明代理即可使用。</p></li><li><p>如果不使用全局透明代理，可使用浏览器插件如 SwitchyOmega 通过下述端口进行代理，或使用桌面环境提供的系统代理进行达到类似全局代理的效果。：</p><p>默认情况下开放三个代理端口：20170(socks5)、20171(http)、20172(带分流规则的 http)</p></li><li><p>注意，如果通过 archlinuxcn 源安装，需要运行<code>systemctl enable --now v2raya</code>。</p></li></ul><h2 id=使用其他类-v2ray-核心>使用其他类 V2Ray 核心<a href=#使用其他类-v2ray-核心 class=anchor aria-hidden=true>#</a></h2><p>一般而言 v2rayA 会优先选择 v2ray，其次是 xray。如需切换到 xray，卸载 v2ray 即可。</p><p>如果使用其他暂不主动支持的类 v2ray 核心，参考以下方法（以指定使用 Xray 为例）：</p><h3 id=systemd-方案>systemd 方案<a href=#systemd-方案 class=anchor aria-hidden=true>#</a></h3><ol><li><p>新建文件夹 <code>/etc/systemd/system/v2raya.service.d</code>，然后新建一个 <code>xray.conf</code> 的文件，添加以下内容：</p><pre><code class=language-conf>[Service]
Environment=&quot;V2RAYA_V2RAY_BIN=/usr/local/bin/xray&quot;
</code></pre><p>注意检查 Xray 的路径是否正确。</p></li><li><p>重载服务：</p><pre><code>sudo systemctl daemon-reload &amp;&amp; sudo systemctl restart v2raya
</code></pre></li></ol><h3 id=alpine-linux-2>Alpine Linux<a href=#alpine-linux-2 class=anchor aria-hidden=true>#</a></h3><p>修改 <code>/etc/init.d/v2raya</code>，然后在 <code>command_args=""</code> 的内容里面加上 <code>--v2ray-bin=/usr/local/bin/xray</code>（注意&ndash;v2ray-bin之前可能需要空格），再重启服务即可。</p><h3 id=openwrt-2>OpenWrt<a href=#openwrt-2 class=anchor aria-hidden=true>#</a></h3><p>（未经过测试）直接将 <code>command</code> 修改为 <code>/usr/bin/v2raya --v2ray-bin=/usr/bin/xray</code> 即可。</p><h2 id=环境变量>环境变量<a href=#环境变量 class=anchor aria-hidden=true>#</a></h2><p><code>V2RAYA_ADDRESS</code>: 监听地址 (默认 &ldquo;0.0.0.0:2017&rdquo;)</p><p><code>V2RAYA_CONFIG</code>: v2rayA 配置文件目录 (默认 &ldquo;/etc/v2raya&rdquo;)</p><p><code>V2RAYA_V2RAY_BIN</code>: v2ray 可执行文件路径. 留空将自动检测. 可修改为 v2ray 分支如 xray 等文件路径</p><p><code>V2RAYA_V2RAY_CONFDIR</code>: 附加的 v2ray 配置文件目录, 该目录中的 v2ray 配置文件会与 v2rayA 生成的配置文件进行组合</p><p><code>V2RAYA_WEBDIR</code>: v2rayA 前端 GUI 文件目录 (默认 &ldquo;/etc/v2raya/web&rdquo;)</p><p><code>V2RAYA_PLUGINLISTENPORT</code>: v2rayA 内部插件端口 (默认 32346)</p><p><code>V2RAYA_FORCE_IPV6_ON</code>: 强制启用 IPv6，即使 v2rayA 认为该机器不支持 IPv6。</p><p><code>V2RAYA_PASSCHECKROOT</code>: 跳过 root 权限检测, 确认你有 root 权限而 v2rayA 判断出错时使用</p><p><code>V2RAYA_VERBOSE</code>: 详细日志模式，混合打印 v2ray-core 和 v2rayA 的运行日志</p><p><code>V2RAYA_RESET_PASSWORD</code>: 重设密码</p><div class="docs-navigation d-flex justify-content-between"><a href=https://v2raya.org/docs/manual/import/><div class="card my-1"><div class="card-body py-2">&larr; 节点和订阅的导入</div></div></a><a class=ms-auto href=https://v2raya.org/docs/prologue/quick-start/><div class="card my-1"><div class="card-body py-2">快速上手 &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>CC-BY-SA | Copyright (c) 2021 v2rayA Organization</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://v2raya.org/js/bootstrap.min.586171fec3966d1a44fa8aa2edb24b861dc3a72be8cc24aa4e0dabe4c312a0dae5fe1eaa7c93180a6211fa4d7c5461b0d228fdf741be2eae279a376dfa1e7d81.js integrity="sha512-WGFx/sOWbRpE+oqi7bJLhh3DpyvozCSqTg2r5MMSoNrl/h6qfJMYCmIR+k18VGGw0ij990G+Lq4nmjdt+h59gQ==" crossorigin=anonymous defer></script>
<script src=https://v2raya.org/js/highlight.min.e13cfba4c5524e30386cb9ea71f0f191f39d15b25b222f4b67549689f7c076158f42a2282446044f5cdacc76a6d003efbfa252a84aea0116703803b6339ae35f.js integrity="sha512-4Tz7pMVSTjA4bLnqcfDxkfOdFbJbIi9LZ1SWiffAdhWPQqIoJEYET1zazHam0APvv6JSqErqARZwOAO2M5rjXw==" crossorigin=anonymous defer></script>
<script src=https://v2raya.org/main.min.9e62c9b0c5dc8279689cc9cb693a32c8ea1d19032f574f98c782ff59a0417d3662ff94b1a7755ab72a7a1862644bf00a58492c65aa0adabbc58080f4018c61bc.js integrity="sha512-nmLJsMXcgnlonMnLaToyyOodGQMvV0+Yx4L/WaBBfTZi/5Sxp3Vatyp6GGJkS/AKWEksZaoK2rvFgID0AYxhvA==" crossorigin=anonymous defer></script>
<script src=https://v2raya.org/index.min.f3c5fa6e022b6b3ca3121b77ba4cc1976ecae8cd9a0fe31481cf54827a4fe4821988a8319e3998cfcf5a348d1806a79d47bbb280cefb068fb65e30233830d1f0.js integrity="sha512-88X6bgIrazyjEht3ukzBl27K6M2aD+MUgc9UgnpP5IIZiKgxnjmYz89aNI0YBqedR7uygM77Bo+2XjAjODDR8A==" crossorigin=anonymous defer></script></body></html>